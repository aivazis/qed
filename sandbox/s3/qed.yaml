# -*- pyre -*-
#
# michael a.g. aïvázis <michael.aivazis@para-sim.com>
# (c) 1998-2023 all rights reserved


# the bucket
parasim: s3://parasim@eu-central-1/parasim-qed

# the datasets
s3.rslc:
    uri: "{parasim}/rslc.h5"

s3.srtm:
    uri: "{parasim}/srtm.tif"

s3.srtm_cog:
    uri: "{parasim}/srtm_cog.tif"

# attach them to the application
datasets:
    - nisar.rslc#s3.rslc
    - native.gdal#s3.srtm
    - native.gdal#s3.srtm_cog


# overall application configuration
qed.app:
    # run as a web app
    shell: web
    # for the web server
    nexus.services.web:
        # pin the port for serving web content to some number in user space
        address: ip4:0.0.0.0:8005

# S3 configuration
qed.app.s3:
    profile: parasim
    bucket: parasim-qed

# configure the {web} shell
pyre.shells.web#qed.app.shell:
    # spawn a new browser window/tab every time the server starts?
    auto: yes

# end of file
