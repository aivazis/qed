{/*
    -* mdx -*-
    michael a.g. aïvázis <michael.aivazis@para-sim.com>
    (c) 1998-2025 all rights reserved
*/}


{/* external */}
import { Link } from 'react-router-dom'

{/* project */}
import { Gear, Refresh } from '~/shapes'

{/* local */}
import { Badge } from './badge'
import { Screenshot } from './screenshot'


# <a name="controls" />Adjusting the view

Let's select the `gunw` reader. There is one possible value for each choice, so the data pane fills
with a visualization of the `unwrapped` phase in the single dataset automatically. Clicking on the
<Badge><Gear/></Badge> icon on the activity bar brings up a collection of trays with that contain
controls to allow you to interact and modify the view rendered on the **active** data pane.

<Screenshot src="figures/qed-controls.png" />

The set of available controls varies depending on the `qed` mode of operation. WHat is shown here is
the default set, assuming you have not activated any of the other available controls. More on this
later on. In this section, we will focus on **zoom**, which lets you control how much of the image
is shown in the active data pane, and **viz**, which lets you modify the free parameters of the
visualization pipeline that generates the actual image.

### <a name="#controls.zoom" />The zoom level

The zoom control presents a scaled representation of the overall dataset shape and the shape of the
view in the active data pane as a **minimap**. The former is represented by the gray shaded
rectangle, whereas the viewable data pane is represented by the orange rectangle. There are two
gauges that control the zoom level along the horizontal and vertical direction, that are coupled to
each other by default, letting you zoom in and out while keeping the image aspect ratio fixed. The
coupling indicator is the highlighted circle in the lower left corner where the two axes intersect
visually. It's a toggle that changes state every time you click on it. Turn the coupling off will
let you vary the zoom level along each axis independently of the other.

The zoom level values on a log base 2 scale, so a zoom level of -2 corresponds to a decimation of
the dataset by a factor of 4, whereas a zoom level of +2 corresponds to a magnification by a factor
of 4.

You can modify the zoom level by dragging the triangular indicators, or by clicking anywhere on the
zoom scale itself. The tick marks and labels are also clickable, and they let you pick the precise
value they represent. Note that the zoom level can assume any value and can vary continuously as you
drag the controls.

<Screenshot src="figures/qed-controls-zoom.png" />

The data decimation for negative integer zoom levels is carried out at the server, whereas positive
levels and all fractional zoom levels are generated by the browser, in an attempt to limit the
amount of data that has to be shipped from the server to the browser to better support remote data
archives.

`qed` remembers the original state of the zoom control before any of your interactions with it. You
can restore it to its original state by clicking on the <Badge><Refresh/></Badge> icon in the upper
right hand corner. This button is initially inactive; it is activated as soon as you make any change
to the state of the zoom control.

The minimap is also an active control. You can drag the orange rectangle that represents the image
viewable area and the data pane will scroll to match. You can also click anywhere on the gray
rectangle that represents the dataset to position the viewable area at that location.

### <a name="#controls.viz" />The visualization parameters

The visualization tray displays controls for the free parameters of the visualization pipeline. In
the particular case of the unwrapped phase of a GUNW data product, there two such parameters: the
range of phases that are displayed, and the brightness of the image.

<Screenshot src="figures/qed-controls-viz.png" />

The brightness control manages a single value, indicated by the labeled triangular marker. You can
modify this value by dragging the marker, or by clicking anywhere on the scale between the minimum
and maximum values. You can revert the control to its original state by clicking on the
<Badge><Refresh/></Badge> icon at any time.

The phase control manages a range, indicated by the bar joining the two triangular markers. You can
modify the range by dragging each marker separately, or by dragging the bar to modify the range
while fixing the relative positions of the markers. The original state of the phase control can be
restored at any time by clicking on the <Badge><Refresh/></Badge> icon.


{/* end of file */}
